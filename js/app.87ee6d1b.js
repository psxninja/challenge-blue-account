(function(){"use strict";var e={8782:function(e,t,r){var a=r(9242),n=r(3396);function i(e,t,r,a,i,o){const u=(0,n.up)("MainHeader"),s=(0,n.up)("BoxTemperature");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(u),(0,n._)("main",null,[(0,n.Wm)(s,{city:"Nuuk, GL",lat:"64.1835",lon:"-51.7216"}),(0,n.Wm)(s,{city:"Urubici, BR",lat:"-28.015",lon:"-49.5917",info:""}),(0,n.Wm)(s,{city:"Nairobi, KE",lat:"-1.2833",lon:"36.8167"})])],64)}var o=r(7139),u=r(5717);const s={class:"boxTemperature"},p={class:"boxTemperature__h2"},l={key:0,class:"boxTemperature__info"},c=(0,n._)("span",{class:"boxTemperature__infoSpan"},"Humidity",-1),m={class:"boxTemperature__infoSpanUnit","data-unit":"%"},d=(0,n._)("span",{class:"boxTemperature__infoSpan"},"Pressure",-1),h={class:"boxTemperature__infoSpanUnit","data-unit":"hPa"},f={class:"boxTemperature__info"},_={class:"boxTemperature__infoSpan boxTemperature__infoSpan--footer"},g={key:1,class:"loading"},T=(0,n._)("img",{class:"loading__loader",alt:"Loading...",src:u},null,-1),v=[T],w={key:2,class:"tryAgain"},b=(0,n._)("p",{class:"tryAgain__p"},"Something went wrong",-1);function y(e,t,r,a,i,u){return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("h2",p,(0,o.zw)(r.city),1),(0,n._)("span",{class:(0,o.C_)(["boxTemperature__temp",u.SensationTemp])},(0,o.zw)(u.showTemperature),3),r.info?((0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",null,[c,(0,n._)("span",m,(0,o.zw)(i.humidity),1)]),(0,n._)("div",null,[d,(0,n._)("span",h,(0,o.zw)(i.pressure),1)])])):(0,n.kq)("",!0),(0,n._)("div",f,[(0,n._)("span",_," Updated at "+(0,o.zw)(i.updatedAt),1)]),null===i.temperature?((0,n.wg)(),(0,n.iD)("div",g,v)):(0,n.kq)("",!0),"error"===i.updatedAt?((0,n.wg)(),(0,n.iD)("div",w,[b,(0,n._)("button",{class:"tryAgain__btn",type:"button",onClick:t[0]||(t[0]=e=>u.Temp())}," Try Again ")])):(0,n.kq)("",!0)])}var x={name:"BoxTemperature",props:{city:String,lat:String,lon:String,info:Boolean},data(){return{temperature:null,humidity:0,pressure:0,updatedAt:"",updatedTime:0}},methods:{timeout(e){return new Promise((t=>setTimeout(t,e)))},async getTempApi(){const e=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${this.lat}&lon=${this.lon}&units=metric&appid=85f2902a03ff5c5007a26e2704a2ccce`),t=await e.json();return t.status=e.status,t},async getTemperature(){const e=localStorage.getItem(this.lat+this.lon),t=!!e&&JSON.parse(e),r=(new Date).getTime();if(e){const e=parseInt((r-t.updatedTime)/6e4%60);if(e<10){if(null!==this.temperature)return;return this.temperature=t.temperature,this.pressure=t.pressure,this.humidity=t.humidity,this.updatedAt=t.updatedAt,void(this.updatedTime=t.updatedTime)}}this.temperature=null,await this.timeout(2e3);const a=await this.getTempApi();if(200===a.status){const e={temperature:a.main.temp.toFixed(0),pressure:a.main.pressure.toFixed(0),humidity:a.main.humidity.toFixed(0),updatedAt:(new Date).toLocaleTimeString({timeZoneName:"short"}),updatedTime:r};localStorage.setItem(this.lat+this.lon,JSON.stringify(e)),this.temperature=e.temperature,this.pressure=e.pressure,this.humidity=e.humidity,this.updatedAt=e.updatedAt,this.updatedTime=r}else this.updatedAt="error"},Temp(){const e=parseFloat(this.lat),t=parseFloat(this.lon);isNaN(e)||isNaN(t)?this.updatedAt="error":(this.getTemperature(),setInterval(this.getTemperature,5e3))}},computed:{SensationTemp(){return this.temperature<=5?"boxTemperature__temp--cold":this.temperature>5&&this.temperature<=25?"boxTemperature__temp--normal":this.temperature>25?"boxTemperature__temp--high":""},showTemperature(){return null===this.temperature?0:this.temperature}},mounted(){this.Temp()}},A=r(89);const S=(0,A.Z)(x,[["render",y]]);var k=S,O=r(5522);const N={class:"appHeader"},D=(0,n._)("img",{class:"appHeader__logo",width:"200",height:"29.63",alt:"Weather Now",src:O},null,-1),H=(0,n._)("h1",{class:"appHeader__title"},"Weather Now",-1),j=[D,H];function F(e,t,r,a,i,o){return(0,n.wg)(),(0,n.iD)("header",N,j)}var W={name:"MainHeader"};const z=(0,A.Z)(W,[["render",F]]);var B=z,P={name:"App",components:{MainHeader:B,BoxTemperature:k}};const C=(0,A.Z)(P,[["render",i]]);var I=C;(0,a.ri)(I).mount("#app")},5717:function(e,t,r){e.exports=r.p+"img/loader.2384075a.svg"},5522:function(e,t,r){e.exports=r.p+"img/logo.c38e957c.svg"}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,a,n,i){if(!a){var o=1/0;for(l=0;l<e.length;l++){a=e[l][0],n=e[l][1],i=e[l][2];for(var u=!0,s=0;s<a.length;s++)(!1&i||o>=i)&&Object.keys(r.O).every((function(e){return r.O[e](a[s])}))?a.splice(s--,1):(u=!1,i<o&&(o=i));if(u){e.splice(l--,1);var p=n();void 0!==p&&(t=p)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[a,n,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.p=""}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,i,o=a[0],u=a[1],s=a[2],p=0;if(o.some((function(t){return 0!==e[t]}))){for(n in u)r.o(u,n)&&(r.m[n]=u[n]);if(s)var l=s(r)}for(t&&t(a);p<o.length;p++)i=o[p],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(l)},a=self["webpackChunkchallenge_blue_account"]=self["webpackChunkchallenge_blue_account"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(8782)}));a=r.O(a)})();
//# sourceMappingURL=app.87ee6d1b.js.map